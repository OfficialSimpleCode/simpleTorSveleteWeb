import{s as ce,e as _,a as G,b as v,d as $,u as Oe,h as C,g as u,i as m,k as V,l as f,p as ge,t as Y,f as q,o as pe,a0 as ze,n as ie,r as He,_ as Ye,v as Re,z as Le,A as qe,c as he,a1 as Xe}from"./scheduler.0bgu9SYv.js";import{S as fe,i as de,c as K,a as Q,m as Z,t as z,b as X,d as ee,g as Ae,e as Fe,f as Je}from"./index.F52-NEUU.js";import{I as We,X as Ne,e as ye}from"./Icon.VNFBnxnu.js";import{g as Ke,b as Qe,p as Ze}from"./entry.KP1pYL5D.js";import{p as et}from"./stores.BtPuVpsG.js";import{F as tt,L as R,H as lt,A as re,m as _e,t as x,S as ue,I as st,J as nt,l as it,K as me,N as rt,O as we,k as Ee}from"./business_initializer.oDa-Pz29.js";import{V as j}from"./verification_helper.WFQr-XeO.js";import{l as ot,G as at}from"./images_utils.D2MkGIfB.js";import{I as Me}from"./InfoTooltipButton.6Jn8yDKK.js";import{U as je,C as ut,I as ct}from"./user_helper.jtvbzJ9o.js";import{C as ft}from"./CustomPhoneField.AJWlcRxI.js";import{D as dt}from"./developer_helper.8i12v0bm.js";import{$ as ht}from"./runtime.1PAEHe6d.js";function Te(s){let e,t;return{c(){e=_("h1"),t=Y(s[0]),this.h()},l(l){e=v(l,"H1",{class:!0});var n=$(e);t=q(n,s[0]),n.forEach(u),this.h()},h(){m(e,"class","text-me text-center opacity-70")},m(l,n){V(l,e,n),f(e,t)},p(l,n){n&1&&pe(t,l[0])},d(l){l&&u(e)}}}function mt(s){let e,t,l=`<img src="${ot()}" alt="logo" class="w-[60px] h-[60px]"/> <h1 class="text-5xl text-center">Simple Tor</h1>`,n,i=s[0]!=""&&Te(s);return{c(){e=_("div"),t=_("div"),t.innerHTML=l,n=G(),i&&i.c(),this.h()},l(r){e=v(r,"DIV",{class:!0});var o=$(e);t=v(o,"DIV",{class:!0,"data-svelte-h":!0}),Oe(t)!=="svelte-11jd3vc"&&(t.innerHTML=l),n=C(o),i&&i.l(o),o.forEach(u),this.h()},h(){m(t,"class","flex flex-row gap-3 items-center"),m(e,"class","flex flex-col text-center gap-[2px]")},m(r,o){V(r,e,o),f(e,t),f(e,n),i&&i.m(e,null)},p(r,[o]){r[0]!=""?i?i.p(r,o):(i=Te(r),i.c(),i.m(e,null)):i&&(i.d(1),i=null)},i:ge,o:ge,d(r){r&&u(e),i&&i.d()}}}function gt(s,e,t){let{subTitle:l=""}=e;return s.$$set=n=>{"subTitle"in n&&t(0,l=n.subTitle)},[l]}class pt extends fe{constructor(e){super(),de(this,e,gt,mt,ce,{subTitle:0})}}async function Be({provider:s,otp:e="",loginReason:t}){if(await j.GI().handleLogin({provider:s,loginType:tt.get(t),otp:e})){if(t===R.deleteUser)return await _t();if(t===R.phoneUpdate)return await xe({});if(t===R.linkProvider)return await Ve(s);if(t===R.phoneVerification){if(j.GI().phoneVerificationWithFirebase)return await Ve(s);{const n=await j.GI().userClaims();return n!=null&&n.phone_number===j.GI().submitedPhone.replaceAll("-","")?await xe({customIsVerifiedPhone:!0}):null}}if(await vt(),!ze(lt)){Ke(`${Qe}/account-setup`);return}s==re.Phone&&history.back(),history.back()}}async function _t(){}async function xe({customIsVerifiedPhone:s}){const e=await je.GI().updatePhone(j.GI().submitedPhone,s??_e.GI().user.isVerifiedPhone);return e??null}async function Ve(s){var r,o,h;let e,t;((r=j.GI().userData)==null?void 0:r.phoneNumber)===j.GI().submitedPhone.replaceAll("-","")&&re.Phone===s&&(e=!0,t=j.GI().submitedPhone);let n,i;return((o=j.GI().userData)==null?void 0:o.email)!==null&&!_e.GI().user.userPublicData.isVerifiedEmail&&(n=!0,i=((h=j.GI().userData)==null?void 0:h.email)??""),await je.GI().addAuthProvider({provider:s,isVerifiedPhone:e,phone:t,isVerfiedEmail:n,email:i})}async function vt(){return await _e.GI().setupUser({newUserId:j.GI().userId,logoutIfDosentExist:!1})}function bt(s){let e=x("login")+"",t;return{c(){t=Y(e)},l(l){t=q(l,e)},m(l,n){V(l,t,n)},d(l){l&&u(t)}}}function It(s){let e;return{c(){e=_("div"),this.h()},l(t){e=v(t,"DIV",{class:!0}),$(e).forEach(u),this.h()},h(){m(e,"class","loading loading-spinner")},m(t,l){V(t,e,l)},d(t){t&&u(e)}}}function $t(s){let e,t,l,n,i,r=x("loginWithPhone")+"",o,h,a,p=x("enterPhoneNumber")+"",I,H,g,b,D,E,A,B,P=x("beforeStartWeNeewToConfirmPhone")+"",L,U,F,w=x("pressOpt")+"",c,S,T,k,W,N,te,y,M,le;t=new Me({props:{message:x("loginWithPhoneExplain")}}),b=new We({props:{src:Ne,size:"24px"}}),E=new at({props:{icon:"mdi:lock"}}),T=new ut({props:{type:ct.password,value:"",pattern:"",isRequired:!0}}),T.$on("valueChange",s[3]);function oe(d,O){return d[2]?It:bt}let se=oe(s),J=se(s);return{c(){e=_("div"),K(t.$$.fragment),l=G(),n=_("div"),i=_("h3"),o=Y(r),h=G(),a=_("h3"),I=Y(p),H=G(),g=_("button"),K(b.$$.fragment),D=G(),K(E.$$.fragment),A=G(),B=_("h3"),L=Y(P),U=G(),F=_("h3"),c=Y(w),S=G(),K(T.$$.fragment),k=G(),W=_("div"),N=_("button"),J.c(),this.h()},l(d){e=v(d,"DIV",{class:!0});var O=$(e);Q(t.$$.fragment,O),l=C(O),n=v(O,"DIV",{class:!0});var ne=$(n);i=v(ne,"H3",{class:!0});var ae=$(i);o=q(ae,r),ae.forEach(u),h=C(ne),a=v(ne,"H3",{class:!0});var ve=$(a);I=q(ve,p),ve.forEach(u),ne.forEach(u),H=C(O),g=v(O,"BUTTON",{class:!0});var be=$(g);Q(b.$$.fragment,be),be.forEach(u),O.forEach(u),D=C(d),Q(E.$$.fragment,d),A=C(d),B=v(d,"H3",{class:!0});var Ie=$(B);L=q(Ie,P),Ie.forEach(u),U=C(d),F=v(d,"H3",{class:!0});var $e=$(F);c=q($e,w),$e.forEach(u),S=C(d),Q(T.$$.fragment,d),k=C(d),W=v(d,"DIV",{class:!0});var ke=$(W);N=v(ke,"BUTTON",{type:!0,class:!0});var Pe=$(N);J.l(Pe),Pe.forEach(u),ke.forEach(u),this.h()},h(){m(i,"class","font-bold text-lg"),m(a,"class","text-me"),m(n,"class","center"),m(g,"class","btn btn-ghost"),m(e,"class","flex justify-between items-center mb-[1rem]"),m(B,"class","text-me"),m(F,"class","text-xs"),m(N,"type","submit"),m(N,"class",te="btn btn-primary "+(s[1]?"":"opacity-50")),m(W,"class","form-control mt-9 mr-20 ml-20")},m(d,O){V(d,e,O),Z(t,e,null),f(e,l),f(e,n),f(n,i),f(i,o),f(n,h),f(n,a),f(a,I),f(e,H),f(e,g),Z(b,g,null),V(d,D,O),Z(E,d,O),V(d,A,O),V(d,B,O),f(B,L),V(d,U,O),V(d,F,O),f(F,c),V(d,S,O),Z(T,d,O),V(d,k,O),V(d,W,O),f(W,N),J.m(N,null),y=!0,M||(le=[ie(g,"click",s[6]),ie(N,"click",s[4])],M=!0)},p(d,[O]){se!==(se=oe(d))&&(J.d(1),J=se(d),J&&(J.c(),J.m(N,null))),(!y||O&2&&te!==(te="btn btn-primary "+(d[1]?"":"opacity-50")))&&m(N,"class",te)},i(d){y||(z(t.$$.fragment,d),z(b.$$.fragment,d),z(E.$$.fragment,d),z(T.$$.fragment,d),y=!0)},o(d){X(t.$$.fragment,d),X(b.$$.fragment,d),X(E.$$.fragment,d),X(T.$$.fragment,d),y=!1},d(d){d&&(u(e),u(D),u(A),u(B),u(U),u(F),u(S),u(k),u(W)),ee(t),ee(b),ee(E,d),ee(T,d),J.d(),M=!1,He(le)}}}function kt(s,e,t){let{dialog:l}=e,{loginReason:n}=e,i="",r=!1,o=!1;function h(I){i=I.detail.value,t(1,r=i.length===6)}async function a(){if(!(!r||o)){t(2,o=!0);try{await Be({provider:re.Phone,loginReason:n,otp:i})}finally{t(2,o=!1)}}}const p=()=>l.close();return s.$$set=I=>{"dialog"in I&&t(0,l=I.dialog),"loginReason"in I&&t(5,n=I.loginReason)},[l,r,o,h,a,n,p]}class Pt extends fe{constructor(e){super(),de(this,e,kt,$t,ce,{dialog:0,loginReason:5})}}function yt(s){ue({status:"success",text:x("theCodeSentSuccessfully")}),j.GI().verificationID=s}async function wt(s,e,t,l){await dt.GI().logErrorToDb({userId:s,errorType:st.login,exceptions:[e],errorCode:e.message,extras:{codeSendTime:t?nt(t):"",beforeSendTime:l}})}function Et({phone:s}){s!==""&&(ue({status:"info",text:x("theCodeIsSending")}),j.GI().lastVerificationUnix=Math.ceil(Date.now()/1e3),j.GI().submitedPhone=s,j.GI().phoneVerificationWithFirebase&&j.GI().sendSmsForFirebaseVerification(s,e=>yt(e),wt))}function Tt(s){let e,t,l,n,i,r=x("loginWithPhone")+"",o,h,a,p=x("beforeStartWeNeewToConfirmPhone")+"",I,H,g,b,D,E,A,B,P,L=x("weSendYouCode")+"",U,F,w,c,S=x("verify")+"",T,k,W,N,te;return t=new Me({props:{message:x("loginWithPhoneExplain")}}),b=new We({props:{src:Ne,size:"24px"}}),A=new ft({}),A.$on("phoneChange",s[3]),{c(){e=_("div"),K(t.$$.fragment),l=G(),n=_("div"),i=_("h3"),o=Y(r),h=G(),a=_("h3"),I=Y(p),H=G(),g=_("button"),K(b.$$.fragment),D=G(),E=_("div"),K(A.$$.fragment),B=G(),P=_("h3"),U=Y(L),F=G(),w=_("div"),c=_("button"),T=Y(S),this.h()},l(y){e=v(y,"DIV",{class:!0});var M=$(e);Q(t.$$.fragment,M),l=C(M),n=v(M,"DIV",{class:!0});var le=$(n);i=v(le,"H3",{class:!0});var oe=$(i);o=q(oe,r),oe.forEach(u),h=C(le),a=v(le,"H3",{class:!0});var se=$(a);I=q(se,p),se.forEach(u),le.forEach(u),H=C(M),g=v(M,"BUTTON",{class:!0});var J=$(g);Q(b.$$.fragment,J),J.forEach(u),M.forEach(u),D=C(y),E=v(y,"DIV",{});var d=$(E);Q(A.$$.fragment,d),B=C(d),P=v(d,"H3",{class:!0});var O=$(P);U=q(O,L),O.forEach(u),d.forEach(u),F=C(y),w=v(y,"DIV",{class:!0});var ne=$(w);c=v(ne,"BUTTON",{type:!0,class:!0});var ae=$(c);T=q(ae,S),ae.forEach(u),ne.forEach(u),this.h()},h(){m(i,"class","font-bold text-lg"),m(a,"class","text-me"),m(n,"class","center"),m(g,"class","btn btn-ghost"),m(e,"class","flex justify-between items-center mb-[1rem]"),m(P,"class","text-sm"),m(c,"type","submit"),m(c,"class",k="btn btn-primary "+(s[1]?"":"opacity-50")),m(w,"class","form-control mt-9 mr-20 ml-20")},m(y,M){V(y,e,M),Z(t,e,null),f(e,l),f(e,n),f(n,i),f(i,o),f(n,h),f(n,a),f(a,I),f(e,H),f(e,g),Z(b,g,null),V(y,D,M),V(y,E,M),Z(A,E,null),f(E,B),f(E,P),f(P,U),V(y,F,M),V(y,w,M),f(w,c),f(c,T),W=!0,N||(te=[ie(g,"click",s[4]),ie(c,"click",s[2])],N=!0)},p(y,[M]){(!W||M&2&&k!==(k="btn btn-primary "+(y[1]?"":"opacity-50")))&&m(c,"class",k)},i(y){W||(z(t.$$.fragment,y),z(b.$$.fragment,y),z(A.$$.fragment,y),W=!0)},o(y){X(t.$$.fragment,y),X(b.$$.fragment,y),X(A.$$.fragment,y),W=!1},d(y){y&&(u(e),u(D),u(E),u(F),u(w)),ee(t),ee(b),ee(A),N=!1,He(te)}}}function xt(s,e,t){const l=Ye();let{dialog:n}=e,i=!1,r="";function o(){if(console.log(r),!i){console.log("e");return}Et({phone:r}),l("navigateOtp")}function h(p){t(1,i=p.detail.isValid),r=p.detail.value??""}const a=()=>n.close();return s.$$set=p=>{"dialog"in p&&t(0,n=p.dialog)},[n,i,o,h,a]}class Vt extends fe{constructor(e){super(),de(this,e,xt,Tt,ce,{dialog:0})}}function Dt(s){let e,t;return e=new Pt({props:{loginReason:s[1],dialog:s[0]}}),{c(){K(e.$$.fragment)},l(l){Q(e.$$.fragment,l)},m(l,n){Z(e,l,n),t=!0},p(l,n){const i={};n&2&&(i.loginReason=l[1]),n&1&&(i.dialog=l[0]),e.$set(i)},i(l){t||(z(e.$$.fragment,l),t=!0)},o(l){X(e.$$.fragment,l),t=!1},d(l){ee(e,l)}}}function Ut(s){let e,t;return e=new Vt({props:{dialog:s[0]}}),e.$on("navigateOtp",s[3]),{c(){K(e.$$.fragment)},l(l){Q(e.$$.fragment,l)},m(l,n){Z(e,l,n),t=!0},p(l,n){const i={};n&1&&(i.dialog=l[0]),e.$set(i)},i(l){t||(z(e.$$.fragment,l),t=!0)},o(l){X(e.$$.fragment,l),t=!1},d(l){ee(e,l)}}}function Gt(s){let e,t,l,n,i,r,o="<button>close</button>",h,a,p;const I=[Ut,Dt],H=[];function g(b,D){return b[2]?1:0}return l=g(s),n=H[l]=I[l](s),{c(){e=_("dialog"),t=_("div"),n.c(),i=G(),r=_("form"),r.innerHTML=o,this.h()},l(b){e=v(b,"DIALOG",{class:!0});var D=$(e);t=v(D,"DIV",{class:!0});var E=$(t);n.l(E),E.forEach(u),i=C(D),r=v(D,"FORM",{method:!0,class:!0,"data-svelte-h":!0}),Oe(r)!=="svelte-povsts"&&(r.innerHTML=o),D.forEach(u),this.h()},h(){m(t,"class","modal-box bg-base-200 pb-10"),m(r,"method","dialog"),m(r,"class","modal-backdrop"),m(e,"class","modal modal-bottom sm:modal-middle")},m(b,D){V(b,e,D),f(e,t),H[l].m(t,null),f(e,i),f(e,r),s[4](e),h=!0,a||(p=ie(e,"close",s[5]),a=!0)},p(b,[D]){let E=l;l=g(b),l===E?H[l].p(b,D):(Ae(),X(H[E],1,1,()=>{H[E]=null}),Fe(),n=H[l],n?n.p(b,D):(n=H[l]=I[l](b),n.c()),z(n,1),n.m(t,null))},i(b){h||(z(n),h=!0)},o(b){X(n),h=!1},d(b){b&&u(e),H[l].d(),s[4](null),a=!1,p()}}}function Ct(s,e,t){let{loginReason:l}=e,{dialog:n}=e,i=!1;const r=a=>{t(2,i=!0)};function o(a){Re[a?"unshift":"push"](()=>{n=a,t(0,n)})}const h=()=>{t(2,i=!1),history.back()};return s.$$set=a=>{"loginReason"in a&&t(1,l=a.loginReason),"dialog"in a&&t(0,n=a.dialog)},[n,l,i,r,o,h]}class St extends fe{constructor(e){super(),de(this,e,Ct,Gt,ce,{loginReason:1,dialog:0})}}function De(s,e,t){const l=s.slice();return l[10]=e[t],l[12]=t,l}function Ue(s){let e,t,l;function n(r){s[4](r)}let i={loginReason:s[0]};return s[1]!==void 0&&(i.dialog=s[1]),e=new St({props:i}),Re.push(()=>Je(e,"dialog",n)),{c(){K(e.$$.fragment)},l(r){Q(e.$$.fragment,r)},m(r,o){Z(e,r,o),l=!0},p(r,o){const h={};o&1&&(h.loginReason=r[0]),!t&&o&2&&(t=!0,h.dialog=r[1],Xe(()=>t=!1)),e.$set(h)},i(r){l||(z(e.$$.fragment,r),l=!0)},o(r){X(e.$$.fragment,r),l=!1},d(r){ee(e,r)}}}function Ge(s){let e,t=x("yourAcountIsImportantForUs")+"",l;return{c(){e=_("h1"),l=Y(t),this.h()},l(n){e=v(n,"H1",{class:!0});var i=$(e);l=q(i,t),i.forEach(u),this.h()},h(){m(e,"class","text-xs text-center opacity-70")},m(n,i){V(n,e,i),f(e,l)},d(n){n&&u(e)}}}function Ce(s){let e,t=x("deleteUserIsSesnstive",void 0,!1)+"",l,n,i,r=x("noticeYouHaveBusinesses")+"",o;return{c(){e=_("h1"),l=Y(t),n=G(),i=_("h1"),o=Y(r),this.h()},l(h){e=v(h,"H1",{class:!0});var a=$(e);l=q(a,t),a.forEach(u),n=C(h),i=v(h,"H1",{class:!0});var p=$(i);o=q(p,r),p.forEach(u),this.h()},h(){m(e,"class","text-xs text-center opacity-70"),m(i,"class","text-xs text-center opacity-70")},m(h,a){V(h,e,a),f(e,l),V(h,n,a),V(h,i,a),f(i,o)},p:ge,d(h){h&&(u(e),u(n),u(i))}}}function Se(s){let e,t,l,n=x(s[0]==R.deleteUser?"verifWith":s[0]==R.linkProvider?"addProviderWith":"signInWith").replaceAll("PROVIDER",x(me[s[10]]??""))+"",i,r,o,h;function a(){return s[5](s[10])}return{c(){e=_("button"),t=_("img"),i=Y(n),r=G(),this.h()},l(p){e=v(p,"BUTTON",{class:!0});var I=$(e);t=v(I,"IMG",{class:!0,src:!0,alt:!0}),i=q(I,n),r=C(I),I.forEach(u),this.h()},h(){m(t,"class","w-10 h-10"),Le(t.src,l=rt[s[10]])||m(t,"src",l),m(t,"alt",me[s[10]]),m(e,"class","btn xs:btn-lg btn-outline w-full "+(s[10]===re.Facebook?"opacity-50":""))},m(p,I){V(p,e,I),f(e,t),f(e,i),f(e,r),o||(h=ie(e,"click",a),o=!0)},p(p,I){s=p,I&1&&n!==(n=x(s[0]==R.deleteUser?"verifWith":s[0]==R.linkProvider?"addProviderWith":"signInWith").replaceAll("PROVIDER",x(me[s[10]]??""))+"")&&pe(i,n)},d(p){p&&u(e),o=!1,h()}}}function Ot(s){let e,t,l,n,i,r,o,h,a,p,I=x(s[0]===R.deleteUser?"deleteUser":s[0]===R.linkProvider?"addingAuthProvider":"loggin")+"",H,g,b,D,E,A,B,P=s[2].state.showModal&&Ue(s);o=new pt({props:{subTitle:x(s[0]==R.deleteUser?"sorryToSeeYouLeave":s[0]==R.linkProvider?"addAuthProvider":"joinOurFamily")}});let L=s[0]===R.linkProvider&&Ge(),U=s[0]===R.deleteUser&&Ce(),F=ye(we),w=[];for(let c=0;c<F.length;c+=1)w[c]=Se(De(s,F,c));return{c(){P&&P.c(),e=G(),t=_("main"),l=_("img"),i=G(),r=_("div"),K(o.$$.fragment),h=G(),a=_("div"),p=_("h1"),H=Y(I),g=G(),L&&L.c(),b=G(),U&&U.c(),D=G();for(let c=0;c<w.length;c+=1)w[c].c();E=G(),A=_("div"),this.h()},l(c){P&&P.l(c),e=C(c),t=v(c,"MAIN",{class:!0});var S=$(t);l=v(S,"IMG",{class:!0,src:!0,alt:!0}),i=C(S),r=v(S,"DIV",{class:!0});var T=$(r);Q(o.$$.fragment,T),h=C(T),a=v(T,"DIV",{class:!0});var k=$(a);p=v(k,"H1",{class:!0});var W=$(p);H=q(W,I),W.forEach(u),g=C(k),L&&L.l(k),b=C(k),U&&U.l(k),D=C(k);for(let N=0;N<w.length;N+=1)w[N].l(k);k.forEach(u),E=C(T),A=v(T,"DIV",{class:!0}),$(A).forEach(u),T.forEach(u),S.forEach(u),this.h()},h(){m(l,"class","flex-[1] object-cover !max-w-[50%] hidden lg:flex"),Le(l.src,n="https://images.pexels.com/photos/841130/pexels-photo-841130.jpeg?cs=srgb&dl=action-athlete-barbell-841130.jpg&fm=jpg")||m(l,"src",n),m(l,"alt","simpletor"),m(p,"class","text-4xl text-center"),m(a,"class","flex flex-col xs:gap-8 gap-5 mb-[50px]"),m(A,"class","h-[50px] mb-[50px]"),m(r,"class","flex-[1] flex flex-col xs:gap-8 gap-5 sm:mx-[70px] mx-3 my-[50px] justify-between items-center"),m(t,"class","flex w-full h-full")},m(c,S){P&&P.m(c,S),V(c,e,S),V(c,t,S),f(t,l),f(t,i),f(t,r),Z(o,r,null),f(r,h),f(r,a),f(a,p),f(p,H),f(a,g),L&&L.m(a,null),f(a,b),U&&U.m(a,null),f(a,D);for(let T=0;T<w.length;T+=1)w[T]&&w[T].m(a,null);f(r,E),f(r,A),B=!0},p(c,[S]){c[2].state.showModal?P?(P.p(c,S),S&4&&z(P,1)):(P=Ue(c),P.c(),z(P,1),P.m(e.parentNode,e)):P&&(Ae(),X(P,1,1,()=>{P=null}),Fe());const T={};if(S&1&&(T.subTitle=x(c[0]==R.deleteUser?"sorryToSeeYouLeave":c[0]==R.linkProvider?"addAuthProvider":"joinOurFamily")),o.$set(T),(!B||S&1)&&I!==(I=x(c[0]===R.deleteUser?"deleteUser":c[0]===R.linkProvider?"addingAuthProvider":"loggin")+"")&&pe(H,I),c[0]===R.linkProvider?L||(L=Ge(),L.c(),L.m(a,b)):L&&(L.d(1),L=null),c[0]===R.deleteUser?U?U.p(c,S):(U=Ce(),U.c(),U.m(a,D)):U&&(U.d(1),U=null),S&9){F=ye(we);let k;for(k=0;k<F.length;k+=1){const W=De(c,F,k);w[k]?w[k].p(W,S):(w[k]=Se(W),w[k].c(),w[k].m(a,null))}for(;k<w.length;k+=1)w[k].d(1);w.length=F.length}},i(c){B||(z(P),z(o.$$.fragment,c),B=!0)},o(c){X(P),X(o.$$.fragment,c),B=!1},d(c){c&&(u(e),u(t)),P&&P.d(c),ee(o),L&&L.d(),U&&U.d(),qe(w,c)}}}function Ht(s,e,t){let l,n,i;he(s,ht,g=>t(6,l=g)),he(s,it,g=>t(7,n=g)),he(s,et,g=>t(2,i=g));let{loginReason:r=R.login}=e,o;const h=Object.values(n.authProviders);async function a(g){if(re.Facebook===g){ue({text:x("soon",l),status:"info"});return}if(r===R.linkProvider&&h.includes(g)&&j.GI().existsLoginProviders.has(Ee[g])){ue({text:x("alreadyInUse",l),status:"info"});return}if(r===R.deleteUser&&(!h.includes(g)||!j.GI().existsLoginProviders.has(Ee[g]))){ue({text:x("canVerifyOnlyWithExistProviders",l),status:"info"});return}if(re.Phone===g){p();return}Be({provider:g,loginReason:r})}function p(){Ze("",{showModal:!0}),setTimeout(()=>o.showModal(),200)}function I(g){o=g,t(1,o)}const H=g=>a(g);return s.$$set=g=>{"loginReason"in g&&t(0,r=g.loginReason)},[r,o,i,a,I,H]}class Jt extends fe{constructor(e){super(),de(this,e,Ht,Ot,ce,{loginReason:0})}}export{Jt as L};
