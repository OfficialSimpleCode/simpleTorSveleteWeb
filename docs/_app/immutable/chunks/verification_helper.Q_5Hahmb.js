var c=Object.defineProperty;var h=(r,i,t)=>i in r?c(r,i,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[i]=t;var e=(r,i,t)=>(h(r,typeof i!="symbol"?i+"":i,t),t);import{V as u,A as n,c as g}from"./business_initializer.9SMvjJTD.js";const a=class a{constructor(){e(this,"signInUserId","");e(this,"currentAuthProvider");e(this,"verificationID","");e(this,"submitedPhone","");e(this,"lastVerificationUnix",0);e(this,"currentCredential");e(this,"phoneVerificationWithFirebase",!0);e(this,"canUseAuthVars",!1);e(this,"verificationRepo",new u)}static GI(){return this._singleton}updateFinishLogIn(i){}async logoutIfSignUpNotCompleted(){}get userLoggedIn(){return this.verificationRepo.isLoggedIn}async getUserClaims(){return await this.verificationRepo.userClaims}async saveUserName(i){return await this.verificationRepo.updateUserName({name:i})}setupLoggin(){this.verificationID="",this.currentAuthProvider=void 0,this.currentCredential=void 0,this.submitedPhone="",this.phoneVerificationWithFirebase=!0}startUserAuthListener(i){this.verificationRepo.onAuthUserStateChanged(async()=>{this.canUseAuthVars=!0,await i()})}get userId(){return this.verificationRepo.userId}get userData(){return this.verificationRepo.userData}get existsLoginProviders(){return this.verificationRepo.existsProviders}get lastLoginDate(){return this.verificationRepo.lastLoginDate}async unlinkProvider(i){const t=g[i]||"";return await this.verificationRepo.unlinkProvider({providerId:t})}async logout(){return await this.verificationRepo.logout()}async handleLogin({provider:i,loginType:t}){switch(i){case n.Apple:return await this._signInWithApple(t);case n.Google:return await this._signInWithGoogle(t);case n.Facebook:return await this._signInWithFacebook(t);case n.Phone:return!1}}async _signInWithGoogle(i){return await this.verificationRepo.signInWithGoogle(i)}async _signInWithApple(i){return await this.verificationRepo.signInWithApple(i)}async _signInWithFacebook(i){return await this.verificationRepo.signInWithFacebook(i)}async _loginWithOtp({loginType:i,otp:t,autocredential:s}){return await this.verificationRepo.signInWithOtp({loginType:i,verificationId:this.verificationID,otp:t,autocredential:s})}async deleteUser(){return await this.verificationRepo.deleteUser()}async reloadUser(){await this.verificationRepo.reloadUser()}};e(a,"_singleton",new a);let o=a;export{o as V};
